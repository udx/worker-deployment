---
kind: workerDeployConfig
version: udx.io/worker-v1/deploy
config:
  image: "usabilitydynamics/udx-worker:latest"

  env:
    DEBUG: "true"
    PROJECT_NAME: "my-project"

  volumes:
    - "./:/workspace"

  # Command to run (optional - if not specified, uses container's default CMD/ENTRYPOINT)
  command: "echo 'Hello from worker container! Edit this command in deploy.yml'"

  # Additional arguments to pass to the command (optional)
  # args:
  #   - "--verbose"
  #   - "--output=/workspace/outputs"

  # GCP Service Account Configuration (optional)
  # If not specified, tool looks for gcp-key.json or gcp-credentials.json
  # service_account:
  #   # Option 1: Specify custom key file path
  #   key_path: "./path/to/service-account-key.json"
  #
  #   # Option 2: Specify custom token file path (for Workload Identity)
  #   token_path: "./path/to/credentials.json"
  #
  #   # Option 3: Use impersonation (requires gcloud auth on host)
  #   email: "your-service-account@your-project.iam.gserviceaccount.com"
